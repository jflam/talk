<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Editor</title>

    <!-- WinJS references -->
    <link href="//Microsoft.WinJS.1.0.RC/css/ui-dark.css" rel="stylesheet" />
    <script src="//Microsoft.WinJS.1.0.RC/js/base.js"></script>
    <script src="//Microsoft.WinJS.1.0.RC/js/ui.js"></script>

    <!-- Editor references -->
    <link href="/css/default.css" rel="stylesheet" />
    <script src="/js/default.js"></script>

    <!-- CodeMirror JS References -->
    <script src="js/codemirror.js"></script>
    <script src="js/htmlmixed.js"></script>
    <script src="js/css.js"></script>
    <script src="js/xml.js"></script>
    <script src="js/javascript.js"></script>

    <!-- CSS References -->
    <link rel="stylesheet" href="css/codemirror.css" />
    <link rel="stylesheet" href="css/lesser-dark.css" />

    <style>
      body {
          color: white;
          background-color: black;
          font-family: "Segoe UI";
          font-size: 18px;
      }

      .CodeMirror {
          font-size: 18px;
          width: 50%;
      }

      .CodeMirror-scroll {
          height: 100vh;
      }

      #output {
          position: absolute;
          top: 0px;
          width: 50vw;
          left: 50vw;
          height: 100vh;
          margin-left: 20px;
      }
    </style>
</head>
<body>
    <div id="editor"></div>
    <div id="output"></div>
    <script>
        WinJS.Application.editor = CodeMirror.fromTextArea(document.getElementById("editor"), {
            lineNumbers: true,
            indentUnit: 2,
            theme: "lesser-dark",
            keyMap: "html_editor"
        });

        CodeMirror.keyMap.html_editor = {
            'Ctrl-Enter': function (cm) {
                var html = WinJS.Application.editor.getValue();
                output.innerHTML = window.toStaticHTML(html);
            },
            fallthrough: ["default"]
        };
    </script>
	<div data-win-control="WinJS.UI.AppBar">
		<button id="cmdOpen" data-win-control="WinJS.UI.AppBarCommand" data-win-options="{icon:'openfile', id:'', label:'Open', onclick:null, section:'global', type:'button'}"></button>
        <button id="cmdSave" data-win-control="WinJS.UI.AppBarCommand" data-win-options="{icon:'save', label:'Save', section:'global', tooltip:'Save', type:'button'}"></button>
	</div>
</body>
</html>
